<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-YR72WNHR7F"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-YR72WNHR7F");
    </script>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1" /> 
    <title>Register</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="./Css/index3.css" />

    <link rel="stylesheet" href="./Css/Register.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v6.1.1/css/all.css"
    />
    <link rel="stylesheet" type="text/css" href="./Css/cart.css" />
  <link rel="stylesheet" type="text/css" href="Css/Checkout.css" />
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
  <link href="./Css/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="icon" href="./Assets/vipnumlogore.png" />
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.1.1/css/all.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  </head>
  <body oncontextmenu="return false" onselectstart="return false" ondragstart="return false">
    <div class="d-none d-lg-block">
      <div id="nav-placeholder"></div>
        <script>
            $(document).ready(function () {
                $("#nav-placeholder").load("./Template/Navbar.html");
            });
        </script>
        
        <!---Banner 1 start-->
        <!-- <div>
          <div class="Banner" style="height: auto !important;background: transparent !important;width: 100%;">
            <div style="background-color: transparent !important;" class="">
              <div class="row align-items-center">
                <div class="" style="padding-left:0; padding-right:0;">
                  <div class="banner-left" style="display: flex;align-items: center;">
                    <img style="width: 210px;" src="./Assets/Rangoli.PNG" alt="welcome" />
                    <div class="margin-left-text-banner" style="line-height: 35px;margin-right: 33%;
                    margin-left: auto;text-align: center;">
                    <img class="form-illu" style="width: 250px;" src="./Assets/form-fill.jpg" alt="" >
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div> -->
        <!---Banner 1 end-->

        
      <div class="RegisterBg margin-top-on-scroll-js">
          <div style="position:absolute;top:80px;left:0;z-index: 10;">
            <img style="width: 210px;" alt="" src="./Assets/Rangoli.PNG">
          </div>
        <div class="Register p-3" style="margin-top: 50px;">
          <h1 class="register-title">Registration form</h1>
          <form class="row g-3 register-lg-form">
            
            <div class="col-md-6" style="width: 33.33%;">
              <!-- <label for="Name" class="form-label">Name</label> -->
              <input
                type="text"
                class="form-control"
                placeholder="&#xf406;   Enter Your Name"
                name="customer_name"
                style="font-family:Arial, FontAwesome"
                id="customer_name"
              />
            </div>

            <div class="col-md-6" style="width: 33.33%;">
              <!-- <label for="MobileNo" class="form-label">Mobile no</label> -->
              <input
                type="number"
                class="form-control number-register-lg"
                placeholder="&#xe527;   Mobile Number"
                name="customer_no"
                style="font-family:Arial, FontAwesome"
                id="customer_no"
              />
            </div>
            <div class="col-md-6" style="width: 33.33%;">
              <!-- <label for="PinCode" class="form-label">Pin code</label> -->
              <input
                type="number"
                class="form-control pin-m"
                placeholder="&#xe4e8;   Enter Pin Code"
                oninput="PinMobile(this)"
                name="pincode"
                id="pincode"
                style="font-family:Arial, FontAwesome"
              />
            </div>
            <div class="col-md-6" style="width: 50%;">
              <!-- <label for="MobileNo" class="form-label">Email Id</label> -->
              <input
                type="email"
                class="form-control"
                placeholder="&#xf084;   Enter New Password"
                name="password"
                id="password"
                style="font-family:Arial, FontAwesome"
              />
            </div>
            <div class="col-md-6" style="width: 50%;">
              <!-- <label for="Passowrd" class="form-label">Passowrd</label> -->
              <input
                type="password"
                class="form-control"
                placeholder="&#xf084;   Confirm New Password"
                name="password"
                id="cpassword"
                style="font-family:Arial, FontAwesome"
              />
            </div>

            <div class="col-md-6" style="width: 50%;">
              <!-- <label for="city" class="form-label">city</label> -->
              <input
                type="text"
                class="form-control city-m"
                placeholder="&#xf3c5;   Enter Your City"
                name="city"
                id="city"
                style="font-family:Arial, FontAwesome"
              />
            </div>
            <div class="col-md-6" style="width: 50%;">
              <!-- <label for="state" class="form-label">State</label> -->
              <input
                type="text"
                class="form-control state-m"
                placeholder="&#xf3c5;   Select Your State"
                name="state"
                id="state"
                style="font-family:Arial, FontAwesome"
              />
            </div>
            <div class="col-12">
              <!-- <label for="state" class="form-label">Address</label> -->
              <input
                type="text"
                class="form-control"
                placeholder="&#xf601;   Enter Your Address"
                name="address"
                style="font-family:Arial, FontAwesome"
                id="address"
              />
            </div>
            
            <button
              type="button"
              id="submit"
              style="width: 20%"
              class="btn btn-primary"
            >
              Create Account
            </button>
          </form>
        </div>
      </div>
      <div id="foot-placeholder"></div>
      <script>
        $(document).ready(function () {
          $("#foot-placeholder").load("./Template/Footer.html");
        });
      </script>
    </div>
    <!--Mobile screen-->
    <div class="d-block d-lg-none">
      <!--Navbar start-->
      <div id="mobNav-placeholder"></div>
      <script>
          $(document).ready(function () {
              $("#mobNav-placeholder").load("./Template/MobileNav.html");
          });
      </script>
      <!--Navbar end-->
      <div class="carousel-inner margin-top-on-scroll-js">
        <div >
          <!---Banner 1 start-->
          <div class="Banner" style="height: auto !important;">
            <div style="background-color: #fff !important;" class="">
              <div class="row align-items-center">
                <div class="col-xl-7 col-lg-7" style="padding-left:0; padding-right:0;">
                  <div class="banner-left" style="display: flex;">
                    <img style="width: 138px;height: 138px;" src="./Assets/Rangoli.PNG" alt="welcome" />
                    <div style="margin-left: 0;">
                      <img class="form-illu" src="./Assets/form-fill.jpg" alt="" >
                  </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!---Banner 1 end-->
        </div>
      </div>
      <div class="RegisterBg px-2">
        <div class="Register p-3">
          <h1 class="register-title">Registration Detail</h1>
          <form class="row g-3 register-form-sm">
            <div class="col-md-6">
              <!-- <label for="Name" class="form-label">Name</label> -->
              <input
                type="text"
                class="form-control"
                placeholder="&#xf406;   Enter Your Name"
                name="customer_name"
                style="font-family:Arial, FontAwesome"
              />
            </div>
            <div style="display: grid;
            grid-template-columns: repeat(2,1fr);">
            <div class="col-md-6" style="margin-right: 10px;">
              <!-- <label for="MobileNo" class="form-label">Mobile no</label> -->
              <input
                type="number"
                class="form-control number-register-sm"
                placeholder="&#xe527;   Mobile Number"
                name="customer_no"
                style="font-family:Arial, FontAwesome"
              />
            </div>
            <div class="col-md-6">
              <!-- <label for="PinCode" class="form-label">Pin code</label> -->
              <input
                type="number"
                class="form-control pin-m"
                placeholder="&#xe4e8;   Enter Pin Code"
                oninput="PinMobile(this)"
                name="pincode"
                style="font-family:Arial, FontAwesome"
              />
            </div>
            </div>
            <div class="col-md-6">
              <!-- <label for="MobileNo" class="form-label">Email Id</label> -->
              <input
                type="email"
                class="form-control"
                placeholder="&#xf084;   Enter New Password"
                name="email"
                style="font-family:Arial, FontAwesome"
              />
            </div>
            <div class="col-md-6">
              <!-- <label for="Passowrd" class="form-label">Passowrd</label> -->
              <input
                type="password"
                class="form-control"
                placeholder="&#xf084;   Confirm New Password"
                name="password"
                style="font-family:Arial, FontAwesome"
              />
            </div>
            
            <div style="display: grid;
            grid-template-columns: repeat(2,1fr);">
            <div class="col-md-6" style="margin-right: 10px;">
              <!-- <label for="city" class="form-label">city</label> -->
              <input
                type="text"
                class="form-control city-m"
                placeholder="&#xf3c5;   Enter Your City"
                name="city"
                style="font-family:Arial, FontAwesome"
              />
            </div>
            <div class="col-md-6">
              <!-- <label for="state" class="form-label">State</label> -->
              <input
                type="text"
                class="form-control state-m"
                placeholder="&#xf3c5;   Select Your State"
                name="state"
                style="font-family:Arial, FontAwesome"
              />
            </div>
          </div>
            <div class="col-12">
              <!-- <label for="state" class="form-label">Address</label> -->
              <input
                type="text"
                class="form-control"
                placeholder="&#xf601;   Enter Your Address"
                name="address"
                style="font-family:Arial, FontAwesome"
              />
            </div>
            <button style="border-radius: 0;color:#000;width:96%;font-weight:600;" type="button" id="submit-sm" class="btn btn-primary">
              CONTINUE
            </button>
          </form>
        </div>
      </div>
      <div id="mobFoot-placeholder"></div>
    <script>
      $(document).ready(function () {
        $("#mobFoot-placeholder").load("./Template/MobileFooter.html");
      });
    </script>
    </div>
    <!---Mobile screen end-->
    <!--script to fetch state and city Desktop-->
    <script>
      let pin = document.querySelector(".pin");
      let state = document.querySelector(".state");
      let city = document.querySelector(".city");
      const Pin = async () => {
        let userPin = pin.value;
        if (userPin.length == 6) {
          const response = await fetch(
            `https://api.postalpincode.in/pincode/${userPin}`
          );
          const data = await response.json();
          const PinData = data.map((items) => {
            const { PostOffice } = items;
            return PostOffice;
          });
          PinData[0].map((items) => {
            const { State, District } = items;
            state.value = State;
            city.value = District;
          });
        }
      };
    </script>
    <!--script to fetch state and city Desktop end-->

    <script>
      setTimeout(()=>{
        let num = localStorage.getItem("notRegisterNumber");
        document.querySelector('.number-register-sm').value = num;
        document.querySelector('.number-register-lg').value = num;
      },1000)
    </script>
    <!--script to fetch state and city Mobile-->
    <script>
      let pinM = document.querySelector(".pin-m");
      let stateM = document.querySelector(".state-m");
      let cityM = document.querySelector(".city-m");
      const PinMobile = async () => {
        let userPin = pinM.value;
        if (userPin.length == 6) {
          const response = await fetch(
            `https://api.postalpincode.in/pincode/${userPin}`
          );
          const data = await response.json();
          const PinData = data.map((items) => {
            const { PostOffice } = items;
            return PostOffice;
          });
          PinData[0].map((items) => {
            const { State, District } = items;
            stateM.value = State;
            cityM.value = District;
          });
        }
      };
    </script>
    <!--script to fetch state and city Mobile end-->

    <script type="module">
      import config from "./conf/index.js";
      let params = new URLSearchParams(window.location.search);

      async function postData(
        url = "https://vipnumberapi.bigboychoice.com/api/v1/customer/customer_signup",
        data = {}
      ) {
        try {
          const response = await fetch(url, {
            method: "POST",
            mode: "cors",
            cache: "no-cache",
            credentials: "same-origin",
            headers: {
              "Content-Type": "application/json",
            },
            redirect: "follow",
            referrerPolicy: "no-referrer",
            body: JSON.stringify(data),
          });
          return response.json();
        } catch (err) {
          console.error(err);
        }
      }

      document
        .getElementById("submit")
        .addEventListener("click", async function (event) {
          const formData = Array.from(
            document.querySelectorAll(".register-lg-form input")
          ).reduce((acc, input) => ({ ...acc, [input.id]: input.value }), {});

          const res = await postData(
            config.backendEndpoint + "/customer_signup",
            formData
          );

          if (res.status === "success") {
            localStorage.setItem("user", res.data);
            Toastify({
              text: "User Added",
              duration: 3000,
              newWindow: true,
              close: true,
              gravity: "top", // `top` or `bottom`
              position: "right", // `left`, `center` or `right`
              stopOnFocus: true, // Prevents dismissing of toast on hover
              style: {
                background: "#32cd32",
              },
            }).showToast();
            // window.location ;
            setTimeout(() => {
              if (params.get("buynow")) {
                window.location = "./Checkout.html?buynow=true";
              } else window.location.href = "/";
            }, 1000);
          } else {
            Toastify({
              text: res.msg,
              duration: 3000,
              newWindow: true,
              close: true,
              gravity: "top", // `top` or `bottom`
              position: "right", // `left`, `center` or `right`
              stopOnFocus: true, // Prevents dismissing of toast on hover
              style: {
                background: "red",
              },
            }).showToast();
          }
        });

      document
        .getElementById("submit-sm")
        .addEventListener("click", async function (event) {
          const formData = Array.from(
            document.querySelectorAll(".register-form-sm input")
          ).reduce((acc, input) => ({ ...acc, [input.name]: input.value }), {});

          const res = await postData(
            config.backendEndpoint + "/customer_signup",
            formData
          );

          if (res.status === "success") {
            localStorage.setItem("user", res.data);
            Toastify({
              text: "User Added",
              duration: 3000,
              newWindow: true,
              close: true,
              gravity: "top", // `top` or `bottom`
              position: "right", // `left`, `center` or `right`
              stopOnFocus: true, // Prevents dismissing of toast on hover
              style: {
                background: "#32cd32",
              },
            }).showToast();
            // window.location ;
            setTimeout(() => {
              if (params.get("buynow")) {
                window.location = "./Checkout.html?buynow=true";
              } else window.location.href = "/";
            }, 1000);
          } else {
            Toastify({
              text: res.msg,
              duration: 3000,
              newWindow: true,
              close: true,
              gravity: "top", // `top` or `bottom`
              position: "right", // `left`, `center` or `right`
              stopOnFocus: true, // Prevents dismissing of toast on hover
              style: {
                background: "red",
              },
            }).showToast();
          }
        });
    </script>

    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/toastify-js"
    ></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    window.addEventListener("scroll", function () {
      let main = document.querySelector(".margin-top-on-scroll-js");
      if (window.pageYOffset == 0) {
        document
          .querySelector(".margin-top-on-scroll-js")
          .classList.remove("margin-top-on-scroll");
      }
      if (window.pageYOffset > 0) {
        document.querySelector(".margin-top-on-scroll-js").classList.add("margin-top-on-scroll");
      }
    });
  </script></body>
</html>
