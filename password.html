<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YR72WNHR7F"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag("js", new Date());

        gtag("config", "G-YR72WNHR7F");
    </script>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1" />
    <link rel="apple-touch-icon" href="./Assets/logo.png" />
    <link rel="stylesheet" type="text/css" href="./Css/index3.css" />
    <link rel="stylesheet" type="text/css" href="./Css/cart.css" />
    <link rel="stylesheet" type="text/css" href="Css/Checkout.css" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link href="./Css/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="icon" href="./Assets/vipnumlogore.png" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.1.1/css/all.css" />
    <title>VIP Mobile Number | Fancy</title>
    <link rel="stylesheet" href="https://pro.fontawesome.com/release/v6.0.0-beta3/css/all.css" />
    <link rel="stylesheet" data-purpose="Layout StyleSheet" title="Default" disabled
        href="/css/app-34c216fc2822b17a4662e494f89c8c00.css?vsn=d">
    <link rel="stylesheet" data-purpose="Layout StyleSheet" title="Web Awesome"
        href="/css/app-wa-efa47151693984001d3dd77e57c4acf3.css?vsn=d">

    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.2.0/css/all.css">

    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.2.0/css/sharp-solid.css">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.1.1/css/all.css" />
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.2.0/css/all.css">

    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.2.0/css/sharp-solid.css">
</head>

<body oncontextmenu="return false" onselectstart="return false" ondragstart="return false">
    <!--Desktop screen start-->
    <div class="d-none d-lg-block">
        <!--navbar start-->
        <div id="nav-placeholder"></div>
        <div class="container margin-top-on-scroll-js" >
            <div style="position:absolute;top:80px;left:0;z-index: -1;">
              <img style="width: 210px;" alt="" src="./Assets/Rangoli.PNG">
            </div>
        
            <form class="row g-3" style="padding: 0px 11px 18px 11px;margin:auto;border-radius:15px;background-color:#fafafa;z-index: 5;margin-bottom: 15px;margin-top: 50px;">
                <div><h3 style="display: inline-block;border-bottom:3px solid #F9C835; font-size: 2rem;">Change Password</h3></div>
      
                <div class="col-md-5" style="position: relative;width: 50%;">
                    <label for="phoneMob" style="font-size: 1.1rem;color:#000;font-weight: 500;">New Password</label>
                    <i id="togglePassword" class="fa-light fa-eye"
                        style="font-size: 1.2rem;position: absolute;top: 37px;right: 22px;color:grey;"></i>
                    <input id="id_password" style="border: 1px solid #979696;border-radius: 0;padding: 10px;"
                        type="password" class="form-control" id="phoneMob" placeholder="xxxxxxxxxxx" />
                </div>

                <div class="col-md-4" style="position: relative;width: 50%;">
                    <label for="nameMob" style="font-size: 1.1rem;color:#000;font-weight: 500;">Confirm Password</label>
                    <i id="togglePassword2" class="fa-light fa-eye"
                        style="font-size: 1.2rem;position: absolute;top: 37px;right: 22px;color:grey;"></i>
                    <input id="id_password2" style="border: 1px solid #979696;border-radius: 0;padding: 10px;"
                        type="password" class="form-control" id="nameMob" placeholder="xxxxxxxxxxx" />
                </div>

                <div class="col-12 text-center" style="text-align: center;">
                    <button type="submit" class="btn btn-primary saveMob"
                        style="width: auto;color:#000;font-size:1.1rem;font-weight: 500;margin-top: 10px;height: 40px;border-radius: 0;">Change
                        Password</button>
                </div>
                <!-- <p style="font-size: 0.8rem;margin-top: 5px;font-weight: 400;">Note: Here you can change all the basic information of your profile except your name and mobile number. If you need any help please contact <a href="#" style="color:blue;">customer care</a></p> -->
            </form>
        </div>

        <script>
            $(document).ready(function () {
                $("#nav-placeholder").load("./Template/Navbar.html");
            });
        </script>
        <!--navbar end-->

        <!--footer start-->
        <div id="foot-placeholder" style="position: fixed; bottom: 0; width: 100vw" id="mobFoot-placeholder"></div>
        <script>
            $(document).ready(function () {
                $("#foot-placeholder").load("./Template/Footer.html");
            });
        </script>
        <!--footer end-->
    </div>
    <!--Desktop screen end-->
    <!--Mobile screen start-->
    <div class="d-block d-lg-none">
        <!--Navbar start-->
        <div id="mobNav-placeholder"></div>
        <div class="container margin-top-on-scroll-js" style="padding-top: 63px;padding-bottom: 63px;">
            <div style="position:absolute;top:100px;left:0;z-index: -1;">
                <img style="width: 148px;" alt="" src="./Assets/Rangoli.PNG">
            </div>
            <form class="row g-3"
                style="padding: 0px 11px 8px 11px; width: 95%;margin:auto;border-radius:15px;background-color:#fafafa;z-index: 5;margin-bottom: 15px;">
                <div>
                    <h3
                        style="display: inline-block;border-bottom:3px solid #F9C835; font-size: 1.5rem;font-weight: 500;">
                        Change Password</h3>
                </div>
                <div class="col-md-5" style="position: relative;">
                    <label for="phoneMob" style="font-size: 1.1rem;color:#000;font-weight: 500;">New Password</label>
                    <i id="togglePassword" class="fa-light fa-eye"
                        style="font-size: 1.2rem;position: absolute;top: 37px;right: 22px;color:grey;"></i>
                    <input id="id_password" style="border: 1px solid #979696;border-radius: 0;padding: 10px;"
                        type="password" class="form-control" id="phoneMob" placeholder="xxxxxxxxxxx" />
                </div>

                <div class="col-md-4" style="position: relative;">
                    <label for="nameMob" style="font-size: 1.1rem;color:#000;font-weight: 500;">Confirm Password</label>
                    <i id="togglePassword2" class="fa-light fa-eye"
                        style="font-size: 1.2rem;position: absolute;top: 37px;right: 22px;color:grey;"></i>
                    <input id="id_password2" style="border: 1px solid #979696;border-radius: 0;padding: 10px;"
                        type="password" class="form-control" id="nameMob" placeholder="xxxxxxxxxxx" />
                </div>

                <div class="col-12 text-center">
                    <button type="submit" class="btn btn-primary saveMob"
                        style="width: 100%;color:#000;font-size:1.1rem;font-weight: 500;margin-top: 10px;height: 40px;border-radius: 0;">Change
                        Password</button>
                </div>
                <!-- <p style="font-size: 0.8rem;margin-top: 5px;font-weight: 400;">Note: Here you can change all the basic information of your profile except your name and mobile number. If you need any help please contact <a href="#" style="color:blue;">customer care</a></p> -->
            </form>
        </div>
        <script>
            $(document).ready(function () {
                $("#mobNav-placeholder").load("./Template/MobileNav.html");
            });
        </script>
        <!--Navbar end-->
        <div id="mobFoot-placeholder"></div>
        <script>
            $(document).ready(function () {
                $("#mobFoot-placeholder").load("./Template/MobileFooter.html");
            });
        </script>
    </div>

    <!--Mobile scrren end-->

    <!---scripts-->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="./Js/cart.js" type="module"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script>
        AOS.init({
            duration: 1000,
        });

        const togglePassword = document.querySelector('#togglePassword');
        const password = document.querySelector('#id_password');

        togglePassword.addEventListener('click', function (e) {
            const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
            password.setAttribute('type', type);
            if (this.classList[1] === "fa-eye") {
                this.classList.add('fa-eye-slash');
                this.classList.remove('fa-eye');
            } else {
                this.classList.remove('fa-eye-slash');
                this.classList.add('fa-eye');
            }
        });
        const togglePassword2 = document.querySelector('#togglePassword2');
        const password2 = document.querySelector('#id_password2');

        togglePassword2.addEventListener('click', function (e) {
            const type = password2.getAttribute('type') === 'password' ? 'text' : 'password';
            password2.setAttribute('type', type);
            if (this.classList[1] === "fa-eye") {
                this.classList.add('fa-eye-slash');
                this.classList.remove('fa-eye');
            } else {
                this.classList.remove('fa-eye-slash');
                this.classList.add('fa-eye');
            }
        });
    </script>
    <!--script for cart desktop-->
    <script>
        let customer_no;
        let ifMob = screen.width > 700 ? "" : "Mob";

        var myHeaders = new Headers();
        myHeaders.append("token", localStorage.getItem("user"));

        var requestOptions = {
            method: "POST",
            headers: myHeaders,
            redirect: "follow",
        };

        function getUserInfo() {
            fetch(
                "https://vipnumberapi.bigboychoice.com/api/v1/customer/customer_info",
                requestOptions
            )
                .then((response) => response.json())
                .then((result) => {
                    if (result.status == "success") {
                        document.getElementById("name" + ifMob).value =
                            result.data.customer_name;
                        document.getElementById("email" + ifMob).value =
                            result.data.email;
                        document.getElementById("address" + ifMob).value =
                            result.data.address;
                        document.getElementById("state" + ifMob).value =
                            result.data.state;
                        document.getElementById("pincode" + ifMob).value =
                            result.data.pincode;
                        document.getElementById("phone" + ifMob).value =
                            result.data.customer_no;
                        customer_no = result.data.customer_no;
                    } else {
                        localStorage.removeItem("user");
                        // window.location = "/";
                    }
                })
                .catch((error) => console.log("error", error));
        }
        getUserInfo();

        $(".save" + ifMob).click((e) => {
            e.preventDefault();
            if (
                $("#name" + ifMob).val().length > 0 &&
                $("#email" + ifMob).val().length > 0 &&
                $("#address" + ifMob).val().length > 0 &&
                $("#state" + ifMob).val().length > 0 &&
                $("#pincode" + ifMob).val().length > 0
            ) {
                var myHeaders = new Headers();
                myHeaders.append("Content-Type", "application/json");
                var raw;
                if ($("#pass" + ifMob).val().length > 0) {
                    raw = JSON.stringify({
                        customer_name: $("#name" + ifMob).val(),
                        email: $("#email" + ifMob).val(),
                        password: $("#pass" + ifMob).val(),
                        state: $("#state" + ifMob).val(),
                        pincode: $("#pincode" + ifMob).val(),
                        address: $("#address" + ifMob).val(),
                    });
                } else {
                    raw = JSON.stringify({
                        customer_name: $("#name" + ifMob).val(),
                        email: $("#email" + ifMob).val(),
                        state: $("#state" + ifMob).val(),
                        pincode: $("#pincode" + ifMob).val(),
                        address: $("#address" + ifMob).val(),
                    });
                }

                var requestOptions = {
                    method: "POST",
                    headers: myHeaders,
                    body: raw,
                    redirect: "follow",
                };

                fetch(
                    "https://vipnumberapi.bigboychoice.com/api/v1/customer/update_customer/" +
                    customer_no,
                    requestOptions
                )
                    .then((response) => response.json())
                    .then((result) => {
                        if (result.status == "success") {
                            Toastify({
                                text: "Profile updated successfully!",
                                duration: 3000,
                                newWindow: true,
                                close: true,
                                gravity: "top", // `top` or `bottom`
                                position: "right", // `left`, `center` or `right`
                                stopOnFocus: true, // Prevents dismissing of toast on hover
                                style: {
                                    background: "#32cd32",
                                },
                            }).showToast();
                        }
                    })
                    .catch((error) => console.log("error", error));
            }
        });
    </script>
    <script>
        window.addEventListener("scroll", function () {
            let main = document.querySelector(".margin-top-on-scroll-js");
            if (window.pageYOffset == 0) {
                document
                    .querySelector(".margin-top-on-scroll-js")
                    .classList.remove("margin-top-on-scroll");
            }
            if (window.pageYOffset > 0) {
                document.querySelector(".margin-top-on-scroll-js").classList.add("margin-top-on-scroll");
            }
        });
    </script>
</body>

</html>